---
title: Double counting
---

<pre class="Agda"><a id="41" class="Keyword">module</a> <a id="48" href="univalent-combinatorics.double-counting.html" class="Module">univalent-combinatorics.double-counting</a> <a id="88" class="Keyword">where</a>

<a id="95" class="Keyword">open</a> <a id="100" class="Keyword">import</a> <a id="107" href="foundation.dependent-pair-types.html" class="Module">foundation.dependent-pair-types</a> <a id="139" class="Keyword">using</a> <a id="145" class="Symbol">(</a><a id="146" href="foundation-core.dependent-pair-types.html#515" class="Record">Σ</a><a id="147" class="Symbol">;</a> <a id="149" href="foundation-core.dependent-pair-types.html#588" class="InductiveConstructor">pair</a><a id="153" class="Symbol">;</a> <a id="155" href="foundation-core.dependent-pair-types.html#605" class="Field">pr1</a><a id="158" class="Symbol">;</a> <a id="160" href="foundation-core.dependent-pair-types.html#617" class="Field">pr2</a><a id="163" class="Symbol">)</a>
<a id="165" class="Keyword">open</a> <a id="170" class="Keyword">import</a> <a id="177" href="foundation.equivalences.html" class="Module">foundation.equivalences</a> <a id="201" class="Keyword">using</a> <a id="207" class="Symbol">(</a><a id="208" href="foundation-core.equivalences.html#1621" class="Function Operator">_≃_</a><a id="211" class="Symbol">;</a> <a id="213" href="foundation-core.equivalences.html#5721" class="Function">inv-equiv</a><a id="222" class="Symbol">;</a> <a id="224" href="foundation-core.equivalences.html#7869" class="Function Operator">_∘e_</a><a id="228" class="Symbol">;</a> <a id="230" href="foundation-core.equivalences.html#2494" class="Function">id-equiv</a><a id="238" class="Symbol">)</a>
<a id="240" class="Keyword">open</a> <a id="245" class="Keyword">import</a> <a id="252" href="foundation.identity-types.html" class="Module">foundation.identity-types</a> <a id="278" class="Keyword">using</a> <a id="284" class="Symbol">(</a><a id="285" href="foundation-core.identity-types.html#1767" class="Datatype">Id</a><a id="287" class="Symbol">)</a>
<a id="289" class="Keyword">open</a> <a id="294" class="Keyword">import</a> <a id="301" href="foundation.universe-levels.html" class="Module">foundation.universe-levels</a> <a id="328" class="Keyword">using</a> <a id="334" class="Symbol">(</a><a id="335" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="340" class="Symbol">;</a> <a id="342" href="foundation-core.universe-levels.html#235" class="Primitive">UU</a><a id="344" class="Symbol">)</a>

<a id="347" class="Keyword">open</a> <a id="352" class="Keyword">import</a> <a id="359" href="univalent-combinatorics.counting.html" class="Module">univalent-combinatorics.counting</a> <a id="392" class="Keyword">using</a>
  <a id="400" class="Symbol">(</a> <a id="402" href="univalent-combinatorics.counting.html#1901" class="Function">count</a><a id="407" class="Symbol">;</a> <a id="409" href="univalent-combinatorics.counting.html#2029" class="Function">number-of-elements-count</a><a id="433" class="Symbol">)</a>
<a id="435" class="Keyword">open</a> <a id="440" class="Keyword">import</a> <a id="447" href="univalent-combinatorics.standard-finite-types.html" class="Module">univalent-combinatorics.standard-finite-types</a> <a id="493" class="Keyword">using</a>
  <a id="501" class="Symbol">(</a> <a id="503" href="univalent-combinatorics.standard-finite-types.html#12920" class="Function">is-injective-Fin</a><a id="519" class="Symbol">)</a>
</pre>
## Idea

Given two countings of the same type, we obtain the same number of its elements. Likewise, given two countings of equivalent types, we obtain the same number of their elements.

<pre class="Agda"><a id="721" class="Keyword">abstract</a>
  <a id="double-counting-equiv"></a><a id="732" href="univalent-combinatorics.double-counting.html#732" class="Function">double-counting-equiv</a> <a id="754" class="Symbol">:</a>
    <a id="760" class="Symbol">{</a><a id="761" href="univalent-combinatorics.double-counting.html#761" class="Bound">l1</a> <a id="764" href="univalent-combinatorics.double-counting.html#764" class="Bound">l2</a> <a id="767" class="Symbol">:</a> <a id="769" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="774" class="Symbol">}</a> <a id="776" class="Symbol">{</a><a id="777" href="univalent-combinatorics.double-counting.html#777" class="Bound">A</a> <a id="779" class="Symbol">:</a> <a id="781" href="foundation-core.universe-levels.html#235" class="Primitive">UU</a> <a id="784" href="univalent-combinatorics.double-counting.html#761" class="Bound">l1</a><a id="786" class="Symbol">}</a> <a id="788" class="Symbol">{</a><a id="789" href="univalent-combinatorics.double-counting.html#789" class="Bound">B</a> <a id="791" class="Symbol">:</a> <a id="793" href="foundation-core.universe-levels.html#235" class="Primitive">UU</a> <a id="796" href="univalent-combinatorics.double-counting.html#764" class="Bound">l2</a><a id="798" class="Symbol">}</a> <a id="800" class="Symbol">(</a><a id="801" href="univalent-combinatorics.double-counting.html#801" class="Bound">count-A</a> <a id="809" class="Symbol">:</a> <a id="811" href="univalent-combinatorics.counting.html#1901" class="Function">count</a> <a id="817" href="univalent-combinatorics.double-counting.html#777" class="Bound">A</a><a id="818" class="Symbol">)</a>
    <a id="824" class="Symbol">(</a><a id="825" href="univalent-combinatorics.double-counting.html#825" class="Bound">count-B</a> <a id="833" class="Symbol">:</a> <a id="835" href="univalent-combinatorics.counting.html#1901" class="Function">count</a> <a id="841" href="univalent-combinatorics.double-counting.html#789" class="Bound">B</a><a id="842" class="Symbol">)</a> <a id="844" class="Symbol">(</a><a id="845" href="univalent-combinatorics.double-counting.html#845" class="Bound">e</a> <a id="847" class="Symbol">:</a> <a id="849" href="univalent-combinatorics.double-counting.html#777" class="Bound">A</a> <a id="851" href="foundation-core.equivalences.html#1621" class="Function Operator">≃</a> <a id="853" href="univalent-combinatorics.double-counting.html#789" class="Bound">B</a><a id="854" class="Symbol">)</a> <a id="856" class="Symbol">→</a>
    <a id="862" href="foundation-core.identity-types.html#1767" class="Datatype">Id</a> <a id="865" class="Symbol">(</a><a id="866" href="univalent-combinatorics.counting.html#2029" class="Function">number-of-elements-count</a> <a id="891" href="univalent-combinatorics.double-counting.html#801" class="Bound">count-A</a><a id="898" class="Symbol">)</a> <a id="900" class="Symbol">(</a><a id="901" href="univalent-combinatorics.counting.html#2029" class="Function">number-of-elements-count</a> <a id="926" href="univalent-combinatorics.double-counting.html#825" class="Bound">count-B</a><a id="933" class="Symbol">)</a>
  <a id="937" href="univalent-combinatorics.double-counting.html#732" class="Function">double-counting-equiv</a> <a id="959" class="Symbol">(</a><a id="960" href="foundation-core.dependent-pair-types.html#588" class="InductiveConstructor">pair</a> <a id="965" href="univalent-combinatorics.double-counting.html#965" class="Bound">k</a> <a id="967" href="univalent-combinatorics.double-counting.html#967" class="Bound">f</a><a id="968" class="Symbol">)</a> <a id="970" class="Symbol">(</a><a id="971" href="foundation-core.dependent-pair-types.html#588" class="InductiveConstructor">pair</a> <a id="976" href="univalent-combinatorics.double-counting.html#976" class="Bound">l</a> <a id="978" href="univalent-combinatorics.double-counting.html#978" class="Bound">g</a><a id="979" class="Symbol">)</a> <a id="981" href="univalent-combinatorics.double-counting.html#981" class="Bound">e</a> <a id="983" class="Symbol">=</a>
    <a id="989" href="univalent-combinatorics.standard-finite-types.html#12920" class="Function">is-injective-Fin</a> <a id="1006" class="Symbol">((</a><a id="1008" href="foundation-core.equivalences.html#5721" class="Function">inv-equiv</a> <a id="1018" href="univalent-combinatorics.double-counting.html#978" class="Bound">g</a> <a id="1020" href="foundation-core.equivalences.html#7869" class="Function Operator">∘e</a> <a id="1023" href="univalent-combinatorics.double-counting.html#981" class="Bound">e</a><a id="1024" class="Symbol">)</a> <a id="1026" href="foundation-core.equivalences.html#7869" class="Function Operator">∘e</a> <a id="1029" href="univalent-combinatorics.double-counting.html#967" class="Bound">f</a><a id="1030" class="Symbol">)</a>

<a id="1033" class="Keyword">abstract</a>
  <a id="double-counting"></a><a id="1044" href="univalent-combinatorics.double-counting.html#1044" class="Function">double-counting</a> <a id="1060" class="Symbol">:</a>
    <a id="1066" class="Symbol">{</a><a id="1067" href="univalent-combinatorics.double-counting.html#1067" class="Bound">l</a> <a id="1069" class="Symbol">:</a> <a id="1071" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="1076" class="Symbol">}</a> <a id="1078" class="Symbol">{</a><a id="1079" href="univalent-combinatorics.double-counting.html#1079" class="Bound">A</a> <a id="1081" class="Symbol">:</a> <a id="1083" href="foundation-core.universe-levels.html#235" class="Primitive">UU</a> <a id="1086" href="univalent-combinatorics.double-counting.html#1067" class="Bound">l</a><a id="1087" class="Symbol">}</a> <a id="1089" class="Symbol">(</a><a id="1090" href="univalent-combinatorics.double-counting.html#1090" class="Bound">count-A</a> <a id="1098" href="univalent-combinatorics.double-counting.html#1098" class="Bound">count-A&#39;</a> <a id="1107" class="Symbol">:</a> <a id="1109" href="univalent-combinatorics.counting.html#1901" class="Function">count</a> <a id="1115" href="univalent-combinatorics.double-counting.html#1079" class="Bound">A</a><a id="1116" class="Symbol">)</a> <a id="1118" class="Symbol">→</a>
    <a id="1124" href="foundation-core.identity-types.html#1767" class="Datatype">Id</a> <a id="1127" class="Symbol">(</a><a id="1128" href="univalent-combinatorics.counting.html#2029" class="Function">number-of-elements-count</a> <a id="1153" href="univalent-combinatorics.double-counting.html#1090" class="Bound">count-A</a><a id="1160" class="Symbol">)</a> <a id="1162" class="Symbol">(</a><a id="1163" href="univalent-combinatorics.counting.html#2029" class="Function">number-of-elements-count</a> <a id="1188" href="univalent-combinatorics.double-counting.html#1098" class="Bound">count-A&#39;</a><a id="1196" class="Symbol">)</a>
  <a id="1200" href="univalent-combinatorics.double-counting.html#1044" class="Function">double-counting</a> <a id="1216" href="univalent-combinatorics.double-counting.html#1216" class="Bound">count-A</a> <a id="1224" href="univalent-combinatorics.double-counting.html#1224" class="Bound">count-A&#39;</a> <a id="1233" class="Symbol">=</a>
    <a id="1239" href="univalent-combinatorics.double-counting.html#732" class="Function">double-counting-equiv</a> <a id="1261" href="univalent-combinatorics.double-counting.html#1216" class="Bound">count-A</a> <a id="1269" href="univalent-combinatorics.double-counting.html#1224" class="Bound">count-A&#39;</a> <a id="1278" href="foundation-core.equivalences.html#2494" class="Function">id-equiv</a>
</pre>