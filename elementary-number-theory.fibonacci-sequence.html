<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en_US" xml:lang="en_US">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="keywords" content="univalent mathematics, homotopy type theory, univalent foundations, symmetry book, agda, formalisation, unimath" />
  <title>The Fibonacci sequence</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="Agda.css" />
  <link rel="stylesheet" href="main.css" />
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body
>
<div class="powerby">
<p>src/elementary-number-theory/fibonacci-sequence.lagda.md.</p>
<p>Version of Friday, July  8, 2022, 02:31 PM</p>
<p>Powered by agda version 2.6.2 and pandoc 2.13</p>
</div>
<hr>
<header id="title-block-header">
<h1 class="title">The Fibonacci sequence</h1>
</header>
<pre class="Agda"><a id="48" class="Symbol">{-#</a> <a id="52" class="Keyword">OPTIONS</a> <a id="60" class="Pragma">--without-K</a> <a id="72" class="Pragma">--exact-split</a> <a id="86" class="Symbol">#-}</a>

<a id="91" class="Keyword">module</a> <a id="98" href="elementary-number-theory.fibonacci-sequence.html" class="Module">elementary-number-theory.fibonacci-sequence</a> <a id="142" class="Keyword">where</a>

<a id="149" class="Keyword">open</a> <a id="154" class="Keyword">import</a> <a id="161" href="elementary-number-theory.addition-natural-numbers.html" class="Module">elementary-number-theory.addition-natural-numbers</a> <a id="211" class="Keyword">using</a> <a id="217" class="Symbol">(</a><a id="218" href="elementary-number-theory.addition-natural-numbers.html#1096" class="Function">add-ℕ</a><a id="223" class="Symbol">)</a>
<a id="225" class="Keyword">open</a> <a id="230" class="Keyword">import</a> <a id="237" href="elementary-number-theory.natural-numbers.html" class="Module">elementary-number-theory.natural-numbers</a> <a id="278" class="Keyword">using</a> <a id="284" class="Symbol">(</a><a id="285" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a><a id="286" class="Symbol">;</a> <a id="288" href="elementary-number-theory.natural-numbers.html#1564" class="InductiveConstructor">succ-ℕ</a><a id="294" class="Symbol">;</a> <a id="296" href="elementary-number-theory.natural-numbers.html#2353" class="Function">ind-ℕ</a><a id="301" class="Symbol">)</a>
</pre>
<pre class="Agda"><a id="Fibonacci-ℕ"></a><a id="316" href="elementary-number-theory.fibonacci-sequence.html#316" class="Function">Fibonacci-ℕ</a> <a id="328" class="Symbol">:</a> <a id="330" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="332" class="Symbol">→</a> <a id="334" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a>
<a id="336" href="elementary-number-theory.fibonacci-sequence.html#316" class="Function">Fibonacci-ℕ</a> <a id="348" class="Number">0</a> <a id="350" class="Symbol">=</a> <a id="352" class="Number">0</a>
<a id="354" href="elementary-number-theory.fibonacci-sequence.html#316" class="Function">Fibonacci-ℕ</a> <a id="366" class="Symbol">(</a><a id="367" href="elementary-number-theory.natural-numbers.html#1564" class="InductiveConstructor">succ-ℕ</a> <a id="374" class="Number">0</a><a id="375" class="Symbol">)</a> <a id="377" class="Symbol">=</a> <a id="379" class="Number">1</a>
<a id="381" href="elementary-number-theory.fibonacci-sequence.html#316" class="Function">Fibonacci-ℕ</a> <a id="393" class="Symbol">(</a><a id="394" href="elementary-number-theory.natural-numbers.html#1564" class="InductiveConstructor">succ-ℕ</a> <a id="401" class="Symbol">(</a><a id="402" href="elementary-number-theory.natural-numbers.html#1564" class="InductiveConstructor">succ-ℕ</a> <a id="409" href="elementary-number-theory.fibonacci-sequence.html#409" class="Bound">n</a><a id="410" class="Symbol">))</a> <a id="413" class="Symbol">=</a> <a id="415" href="elementary-number-theory.addition-natural-numbers.html#1096" class="Function">add-ℕ</a> <a id="421" class="Symbol">(</a><a id="422" href="elementary-number-theory.fibonacci-sequence.html#316" class="Function">Fibonacci-ℕ</a> <a id="434" class="Symbol">(</a><a id="435" href="elementary-number-theory.natural-numbers.html#1564" class="InductiveConstructor">succ-ℕ</a> <a id="442" href="elementary-number-theory.fibonacci-sequence.html#409" class="Bound">n</a><a id="443" class="Symbol">))</a> <a id="446" class="Symbol">(</a><a id="447" href="elementary-number-theory.fibonacci-sequence.html#316" class="Function">Fibonacci-ℕ</a> <a id="459" href="elementary-number-theory.fibonacci-sequence.html#409" class="Bound">n</a><a id="460" class="Symbol">)</a>
</pre>
<p>The above definition of the Fibonacci sequence uses Agda’s powerful pattern matching definitions. Below, we will give a definition of the Fibonacci sequence in terms of <code>ind-ℕ</code>.</p>
<p>The problem with defining the Fibonacci sequence using <code>ind-ℕ</code>, is that <code>ind-ℕ</code> doesn’t give us a way to refer to both <code>(F n)</code> and <code>(F (succ-ℕ n))</code>. So, we have to give a workaround, where we store two values in the Fibonacci sequence at once.</p>
<p>The basic idea is that we define a sequence of pairs of integers, which will be consecutive Fibonacci numbers. This would be a function of type <span class="math inline">\(ℕ → ℕ²\)</span>.</p>
<p>Such a function is easy to give with induction, using the map <span class="math inline">\(ℕ² → ℕ²\)</span> that takes a pair <code>(m,n)</code> to the pair <code>(n,n+m)</code>. Starting the iteration with <code>(0,1)</code> we obtain the Fibonacci sequence by taking the first projection.</p>
<p>However, we haven’t defined cartesian products or booleans yet. Therefore we mimic the above idea, using <span class="math inline">\(ℕ → ℕ\)</span> instead of <span class="math inline">\(ℕ²\)</span>.</p>
<pre class="Agda"><a id="shift-one"></a><a id="1408" href="elementary-number-theory.fibonacci-sequence.html#1408" class="Function">shift-one</a> <a id="1418" class="Symbol">:</a> <a id="1420" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="1422" class="Symbol">→</a> <a id="1424" class="Symbol">(</a><a id="1425" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="1427" class="Symbol">→</a> <a id="1429" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a><a id="1430" class="Symbol">)</a> <a id="1432" class="Symbol">→</a> <a id="1434" class="Symbol">(</a><a id="1435" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="1437" class="Symbol">→</a> <a id="1439" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a><a id="1440" class="Symbol">)</a>
<a id="1442" href="elementary-number-theory.fibonacci-sequence.html#1408" class="Function">shift-one</a> <a id="1452" href="elementary-number-theory.fibonacci-sequence.html#1452" class="Bound">n</a> <a id="1454" href="elementary-number-theory.fibonacci-sequence.html#1454" class="Bound">f</a> <a id="1456" class="Symbol">=</a> <a id="1458" href="elementary-number-theory.natural-numbers.html#2353" class="Function">ind-ℕ</a> <a id="1464" href="elementary-number-theory.fibonacci-sequence.html#1452" class="Bound">n</a> <a id="1466" class="Symbol">(λ</a> <a id="1469" href="elementary-number-theory.fibonacci-sequence.html#1469" class="Bound">x</a> <a id="1471" href="elementary-number-theory.fibonacci-sequence.html#1471" class="Bound">y</a> <a id="1473" class="Symbol">→</a> <a id="1475" href="elementary-number-theory.fibonacci-sequence.html#1454" class="Bound">f</a> <a id="1477" href="elementary-number-theory.fibonacci-sequence.html#1469" class="Bound">x</a><a id="1478" class="Symbol">)</a>

<a id="shift-two"></a><a id="1481" href="elementary-number-theory.fibonacci-sequence.html#1481" class="Function">shift-two</a> <a id="1491" class="Symbol">:</a> <a id="1493" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="1495" class="Symbol">→</a> <a id="1497" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="1499" class="Symbol">→</a> <a id="1501" class="Symbol">(</a><a id="1502" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="1504" class="Symbol">→</a> <a id="1506" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a><a id="1507" class="Symbol">)</a> <a id="1509" class="Symbol">→</a> <a id="1511" class="Symbol">(</a><a id="1512" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="1514" class="Symbol">→</a> <a id="1516" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a><a id="1517" class="Symbol">)</a>
<a id="1519" href="elementary-number-theory.fibonacci-sequence.html#1481" class="Function">shift-two</a> <a id="1529" href="elementary-number-theory.fibonacci-sequence.html#1529" class="Bound">m</a> <a id="1531" href="elementary-number-theory.fibonacci-sequence.html#1531" class="Bound">n</a> <a id="1533" href="elementary-number-theory.fibonacci-sequence.html#1533" class="Bound">f</a> <a id="1535" class="Symbol">=</a> <a id="1537" href="elementary-number-theory.fibonacci-sequence.html#1408" class="Function">shift-one</a> <a id="1547" href="elementary-number-theory.fibonacci-sequence.html#1529" class="Bound">m</a> <a id="1549" class="Symbol">(</a><a id="1550" href="elementary-number-theory.fibonacci-sequence.html#1408" class="Function">shift-one</a> <a id="1560" href="elementary-number-theory.fibonacci-sequence.html#1531" class="Bound">n</a> <a id="1562" href="elementary-number-theory.fibonacci-sequence.html#1533" class="Bound">f</a><a id="1563" class="Symbol">)</a>

<a id="Fibo-zero-ℕ"></a><a id="1566" href="elementary-number-theory.fibonacci-sequence.html#1566" class="Function">Fibo-zero-ℕ</a> <a id="1578" class="Symbol">:</a> <a id="1580" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="1582" class="Symbol">→</a> <a id="1584" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a>
<a id="1586" href="elementary-number-theory.fibonacci-sequence.html#1566" class="Function">Fibo-zero-ℕ</a> <a id="1598" class="Symbol">=</a> <a id="1600" href="elementary-number-theory.fibonacci-sequence.html#1481" class="Function">shift-two</a> <a id="1610" class="Number">0</a> <a id="1612" class="Number">1</a> <a id="1614" class="Symbol">(λ</a> <a id="1617" href="elementary-number-theory.fibonacci-sequence.html#1617" class="Bound">x</a> <a id="1619" class="Symbol">→</a> <a id="1621" class="Number">0</a><a id="1622" class="Symbol">)</a>

<a id="Fibo-succ-ℕ"></a><a id="1625" href="elementary-number-theory.fibonacci-sequence.html#1625" class="Function">Fibo-succ-ℕ</a> <a id="1637" class="Symbol">:</a> <a id="1639" class="Symbol">(</a><a id="1640" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="1642" class="Symbol">→</a> <a id="1644" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a><a id="1645" class="Symbol">)</a> <a id="1647" class="Symbol">→</a> <a id="1649" class="Symbol">(</a><a id="1650" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="1652" class="Symbol">→</a> <a id="1654" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a><a id="1655" class="Symbol">)</a>
<a id="1657" href="elementary-number-theory.fibonacci-sequence.html#1625" class="Function">Fibo-succ-ℕ</a> <a id="1669" href="elementary-number-theory.fibonacci-sequence.html#1669" class="Bound">f</a> <a id="1671" class="Symbol">=</a> <a id="1673" href="elementary-number-theory.fibonacci-sequence.html#1481" class="Function">shift-two</a> <a id="1683" class="Symbol">(</a><a id="1684" href="elementary-number-theory.fibonacci-sequence.html#1669" class="Bound">f</a> <a id="1686" class="Number">1</a><a id="1687" class="Symbol">)</a> <a id="1689" class="Symbol">(</a><a id="1690" href="elementary-number-theory.addition-natural-numbers.html#1096" class="Function">add-ℕ</a> <a id="1696" class="Symbol">(</a><a id="1697" href="elementary-number-theory.fibonacci-sequence.html#1669" class="Bound">f</a> <a id="1699" class="Number">1</a><a id="1700" class="Symbol">)</a> <a id="1702" class="Symbol">(</a><a id="1703" href="elementary-number-theory.fibonacci-sequence.html#1669" class="Bound">f</a> <a id="1705" class="Number">0</a><a id="1706" class="Symbol">))</a> <a id="1709" class="Symbol">(λ</a> <a id="1712" href="elementary-number-theory.fibonacci-sequence.html#1712" class="Bound">x</a> <a id="1714" class="Symbol">→</a> <a id="1716" class="Number">0</a><a id="1717" class="Symbol">)</a>

<a id="Fibo-function"></a><a id="1720" href="elementary-number-theory.fibonacci-sequence.html#1720" class="Function">Fibo-function</a> <a id="1734" class="Symbol">:</a> <a id="1736" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="1738" class="Symbol">→</a> <a id="1740" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="1742" class="Symbol">→</a> <a id="1744" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a>
<a id="1746" href="elementary-number-theory.fibonacci-sequence.html#1720" class="Function">Fibo-function</a> <a id="1760" class="Symbol">=</a>
  <a id="1764" href="elementary-number-theory.natural-numbers.html#2353" class="Function">ind-ℕ</a>
    <a id="1774" class="Symbol">(</a> <a id="1776" href="elementary-number-theory.fibonacci-sequence.html#1566" class="Function">Fibo-zero-ℕ</a><a id="1787" class="Symbol">)</a>
    <a id="1793" class="Symbol">(</a> <a id="1795" class="Symbol">λ</a> <a id="1797" href="elementary-number-theory.fibonacci-sequence.html#1797" class="Bound">n</a> <a id="1799" class="Symbol">→</a> <a id="1801" href="elementary-number-theory.fibonacci-sequence.html#1625" class="Function">Fibo-succ-ℕ</a><a id="1812" class="Symbol">)</a>

<a id="Fibo"></a><a id="1815" href="elementary-number-theory.fibonacci-sequence.html#1815" class="Function">Fibo</a> <a id="1820" class="Symbol">:</a> <a id="1822" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a> <a id="1824" class="Symbol">→</a> <a id="1826" href="elementary-number-theory.natural-numbers.html#1530" class="Datatype">ℕ</a>
<a id="1828" href="elementary-number-theory.fibonacci-sequence.html#1815" class="Function">Fibo</a> <a id="1833" href="elementary-number-theory.fibonacci-sequence.html#1833" class="Bound">k</a> <a id="1835" class="Symbol">=</a> <a id="1837" href="elementary-number-theory.fibonacci-sequence.html#1720" class="Function">Fibo-function</a> <a id="1851" href="elementary-number-theory.fibonacci-sequence.html#1833" class="Bound">k</a> <a id="1853" class="Number">0</a>
</pre>
<h2>Recent changes</h2>
<pre class="changelog">
(2022-07-08)(000b79d) Merge pull request #242 from EgbertRijke/n-element-types by noreply
</pre>
</body>
</html>