# The subtype identity principle

<pre class="Agda"><a id="43" class="Symbol">{-#</a> <a id="47" class="Keyword">OPTIONS</a> <a id="55" class="Pragma">--without-K</a> <a id="67" class="Pragma">--exact-split</a> <a id="81" class="Symbol">#-}</a>

<a id="86" class="Keyword">module</a> <a id="93" href="foundation-core.subtype-identity-principle.html" class="Module">foundation-core.subtype-identity-principle</a> <a id="136" class="Keyword">where</a>

<a id="143" class="Keyword">open</a> <a id="148" class="Keyword">import</a> <a id="155" href="foundation-core.contractible-types.html" class="Module">foundation-core.contractible-types</a> <a id="190" class="Keyword">using</a>
  <a id="198" class="Symbol">(</a> <a id="200" href="foundation-core.contractible-types.html#992" class="Function">is-contr</a><a id="208" class="Symbol">;</a> <a id="210" href="foundation-core.contractible-types.html#3297" class="Function">is-contr-equiv</a><a id="224" class="Symbol">)</a>
<a id="226" class="Keyword">open</a> <a id="231" class="Keyword">import</a> <a id="238" href="foundation-core.dependent-pair-types.html" class="Module">foundation-core.dependent-pair-types</a> <a id="275" class="Keyword">using</a> <a id="281" class="Symbol">(</a><a id="282" href="foundation-core.dependent-pair-types.html#502" class="Record">Σ</a><a id="283" class="Symbol">;</a> <a id="285" href="foundation-core.dependent-pair-types.html#575" class="InductiveConstructor">pair</a><a id="289" class="Symbol">;</a> <a id="291" href="foundation-core.dependent-pair-types.html#592" class="Field">pr1</a><a id="294" class="Symbol">;</a> <a id="296" href="foundation-core.dependent-pair-types.html#604" class="Field">pr2</a><a id="299" class="Symbol">)</a>
<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="foundation-core.equivalences.html" class="Module">foundation-core.equivalences</a> <a id="342" class="Keyword">using</a>
  <a id="350" class="Symbol">(</a> <a id="352" href="foundation-core.equivalences.html#1542" class="Function">is-equiv</a><a id="360" class="Symbol">;</a> <a id="362" href="foundation-core.equivalences.html#1607" class="Function Operator">_≃_</a><a id="365" class="Symbol">;</a> <a id="367" href="foundation-core.equivalences.html#1807" class="Function">map-equiv</a><a id="376" class="Symbol">;</a> <a id="378" href="foundation-core.equivalences.html#1862" class="Function">is-equiv-map-equiv</a><a id="396" class="Symbol">)</a>
<a id="398" class="Keyword">open</a> <a id="403" class="Keyword">import</a> <a id="410" href="foundation-core.functions.html" class="Module">foundation-core.functions</a> <a id="436" class="Keyword">using</a> <a id="442" class="Symbol">(</a><a id="443" href="foundation-core.functions.html#407" class="Function Operator">_∘_</a><a id="446" class="Symbol">)</a>
<a id="448" class="Keyword">open</a> <a id="453" class="Keyword">import</a> <a id="460" href="foundation-core.fundamental-theorem-of-identity-types.html" class="Module">foundation-core.fundamental-theorem-of-identity-types</a> <a id="514" class="Keyword">using</a>
  <a id="522" class="Symbol">(</a> <a id="524" href="foundation-core.fundamental-theorem-of-identity-types.html#1888" class="Function">fundamental-theorem-id</a><a id="546" class="Symbol">;</a> <a id="548" href="foundation-core.fundamental-theorem-of-identity-types.html#2160" class="Function">fundamental-theorem-id&#39;</a><a id="571" class="Symbol">)</a>
<a id="573" class="Keyword">open</a> <a id="578" class="Keyword">import</a> <a id="585" href="foundation-core.homotopies.html" class="Module">foundation-core.homotopies</a> <a id="612" class="Keyword">using</a> <a id="618" class="Symbol">(</a><a id="619" href="foundation-core.homotopies.html#545" class="Function Operator">_~_</a><a id="622" class="Symbol">;</a> <a id="624" href="foundation-core.homotopies.html#710" class="Function">refl-htpy</a><a id="633" class="Symbol">)</a>
<a id="635" class="Keyword">open</a> <a id="640" class="Keyword">import</a> <a id="647" href="foundation-core.identity-types.html" class="Module">foundation-core.identity-types</a> <a id="678" class="Keyword">using</a> <a id="684" class="Symbol">(</a><a id="685" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a><a id="687" class="Symbol">;</a> <a id="689" href="foundation-core.identity-types.html#1807" class="InductiveConstructor">refl</a><a id="693" class="Symbol">)</a>
<a id="695" class="Keyword">open</a> <a id="700" class="Keyword">import</a> <a id="707" href="foundation-core.propositions.html" class="Module">foundation-core.propositions</a> <a id="736" class="Keyword">using</a>
  <a id="744" class="Symbol">(</a> <a id="746" href="foundation-core.propositions.html#1295" class="Function">is-prop</a><a id="753" class="Symbol">;</a> <a id="755" href="foundation-core.propositions.html#3036" class="Function">is-proof-irrelevant-is-prop</a><a id="782" class="Symbol">;</a> <a id="784" href="foundation-core.propositions.html#1380" class="Function">UU-Prop</a><a id="791" class="Symbol">;</a> <a id="793" href="foundation-core.propositions.html#1482" class="Function">type-Prop</a><a id="802" class="Symbol">;</a> <a id="804" href="foundation-core.propositions.html#1549" class="Function">is-prop-type-Prop</a><a id="821" class="Symbol">)</a>
<a id="823" class="Keyword">open</a> <a id="828" class="Keyword">import</a> <a id="835" href="foundation-core.type-arithmetic-dependent-pair-types.html" class="Module">foundation-core.type-arithmetic-dependent-pair-types</a> <a id="888" class="Keyword">using</a>
  <a id="896" class="Symbol">(</a> <a id="898" href="foundation-core.type-arithmetic-dependent-pair-types.html#3077" class="Function">left-unit-law-Σ-is-contr</a><a id="922" class="Symbol">;</a> <a id="924" href="foundation-core.type-arithmetic-dependent-pair-types.html#11499" class="Function">equiv-right-swap-Σ</a><a id="942" class="Symbol">)</a>
<a id="944" class="Keyword">open</a> <a id="949" class="Keyword">import</a> <a id="956" href="foundation-core.universe-levels.html" class="Module">foundation-core.universe-levels</a> <a id="988" class="Keyword">using</a> <a id="994" class="Symbol">(</a><a id="995" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="1000" class="Symbol">;</a> <a id="1002" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a><a id="1004" class="Symbol">;</a> <a id="1006" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a><a id="1009" class="Symbol">)</a>
</pre>
## Idea

The subtype identity principle allows us to efficiently characterize the identity type of a subtype, using a characterization of the identity type of the base type.

## Lemma

The following is a general construction that will help us show that the identity type of a subtype agrees with the identity type of the  original type. We already know that the first projection of a family of propositions is an embedding, but the following lemma still has its uses.

<pre class="Agda"><a id="1493" class="Keyword">module</a> <a id="1500" href="foundation-core.subtype-identity-principle.html#1500" class="Module">_</a>
  <a id="1504" class="Symbol">{</a><a id="1505" href="foundation-core.subtype-identity-principle.html#1505" class="Bound">l1</a> <a id="1508" href="foundation-core.subtype-identity-principle.html#1508" class="Bound">l2</a> <a id="1511" class="Symbol">:</a> <a id="1513" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="1518" class="Symbol">}</a> <a id="1520" class="Symbol">{</a><a id="1521" href="foundation-core.subtype-identity-principle.html#1521" class="Bound">A</a> <a id="1523" class="Symbol">:</a> <a id="1525" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="1528" href="foundation-core.subtype-identity-principle.html#1505" class="Bound">l1</a><a id="1530" class="Symbol">}</a> <a id="1532" class="Symbol">{</a><a id="1533" href="foundation-core.subtype-identity-principle.html#1533" class="Bound">B</a> <a id="1535" class="Symbol">:</a> <a id="1537" href="foundation-core.subtype-identity-principle.html#1521" class="Bound">A</a> <a id="1539" class="Symbol">→</a> <a id="1541" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="1544" href="foundation-core.subtype-identity-principle.html#1508" class="Bound">l2</a><a id="1546" class="Symbol">}</a>
  <a id="1550" class="Keyword">where</a>

  <a id="1559" class="Keyword">abstract</a>
    <a id="1572" href="foundation-core.subtype-identity-principle.html#1572" class="Function">is-contr-total-Eq-subtype</a> <a id="1598" class="Symbol">:</a>
      <a id="1606" class="Symbol">{</a><a id="1607" href="foundation-core.subtype-identity-principle.html#1607" class="Bound">l3</a> <a id="1610" class="Symbol">:</a> <a id="1612" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="1617" class="Symbol">}</a> <a id="1619" class="Symbol">{</a><a id="1620" href="foundation-core.subtype-identity-principle.html#1620" class="Bound">P</a> <a id="1622" class="Symbol">:</a> <a id="1624" href="foundation-core.subtype-identity-principle.html#1521" class="Bound">A</a> <a id="1626" class="Symbol">→</a> <a id="1628" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="1631" href="foundation-core.subtype-identity-principle.html#1607" class="Bound">l3</a><a id="1633" class="Symbol">}</a> <a id="1635" class="Symbol">→</a>
      <a id="1643" href="foundation-core.contractible-types.html#992" class="Function">is-contr</a> <a id="1652" class="Symbol">(</a><a id="1653" href="foundation-core.dependent-pair-types.html#502" class="Record">Σ</a> <a id="1655" href="foundation-core.subtype-identity-principle.html#1521" class="Bound">A</a> <a id="1657" href="foundation-core.subtype-identity-principle.html#1533" class="Bound">B</a><a id="1658" class="Symbol">)</a> <a id="1660" class="Symbol">→</a> <a id="1662" class="Symbol">((</a><a id="1664" href="foundation-core.subtype-identity-principle.html#1664" class="Bound">x</a> <a id="1666" class="Symbol">:</a> <a id="1668" href="foundation-core.subtype-identity-principle.html#1521" class="Bound">A</a><a id="1669" class="Symbol">)</a> <a id="1671" class="Symbol">→</a> <a id="1673" href="foundation-core.propositions.html#1295" class="Function">is-prop</a> <a id="1681" class="Symbol">(</a><a id="1682" href="foundation-core.subtype-identity-principle.html#1620" class="Bound">P</a> <a id="1684" href="foundation-core.subtype-identity-principle.html#1664" class="Bound">x</a><a id="1685" class="Symbol">))</a> <a id="1688" class="Symbol">→</a>
      <a id="1696" class="Symbol">(</a><a id="1697" href="foundation-core.subtype-identity-principle.html#1697" class="Bound">a</a> <a id="1699" class="Symbol">:</a> <a id="1701" href="foundation-core.subtype-identity-principle.html#1521" class="Bound">A</a><a id="1702" class="Symbol">)</a> <a id="1704" class="Symbol">(</a><a id="1705" href="foundation-core.subtype-identity-principle.html#1705" class="Bound">b</a> <a id="1707" class="Symbol">:</a> <a id="1709" href="foundation-core.subtype-identity-principle.html#1533" class="Bound">B</a> <a id="1711" href="foundation-core.subtype-identity-principle.html#1697" class="Bound">a</a><a id="1712" class="Symbol">)</a> <a id="1714" class="Symbol">(</a><a id="1715" href="foundation-core.subtype-identity-principle.html#1715" class="Bound">p</a> <a id="1717" class="Symbol">:</a> <a id="1719" href="foundation-core.subtype-identity-principle.html#1620" class="Bound">P</a> <a id="1721" href="foundation-core.subtype-identity-principle.html#1697" class="Bound">a</a><a id="1722" class="Symbol">)</a> <a id="1724" class="Symbol">→</a>
      <a id="1732" href="foundation-core.contractible-types.html#992" class="Function">is-contr</a> <a id="1741" class="Symbol">(</a><a id="1742" href="foundation-core.dependent-pair-types.html#502" class="Record">Σ</a> <a id="1744" class="Symbol">(</a><a id="1745" href="foundation-core.dependent-pair-types.html#502" class="Record">Σ</a> <a id="1747" href="foundation-core.subtype-identity-principle.html#1521" class="Bound">A</a> <a id="1749" href="foundation-core.subtype-identity-principle.html#1620" class="Bound">P</a><a id="1750" class="Symbol">)</a> <a id="1752" class="Symbol">(λ</a> <a id="1755" href="foundation-core.subtype-identity-principle.html#1755" class="Bound">t</a> <a id="1757" class="Symbol">→</a> <a id="1759" href="foundation-core.subtype-identity-principle.html#1533" class="Bound">B</a> <a id="1761" class="Symbol">(</a><a id="1762" href="foundation-core.dependent-pair-types.html#592" class="Field">pr1</a> <a id="1766" href="foundation-core.subtype-identity-principle.html#1755" class="Bound">t</a><a id="1767" class="Symbol">)))</a>
    <a id="1775" href="foundation-core.subtype-identity-principle.html#1572" class="Function">is-contr-total-Eq-subtype</a> <a id="1801" class="Symbol">{</a><a id="1802" href="foundation-core.subtype-identity-principle.html#1802" class="Bound">l3</a><a id="1804" class="Symbol">}</a> <a id="1806" class="Symbol">{</a><a id="1807" href="foundation-core.subtype-identity-principle.html#1807" class="Bound">P</a><a id="1808" class="Symbol">}</a>
      <a id="1816" href="foundation-core.subtype-identity-principle.html#1816" class="Bound">is-contr-AB</a> <a id="1828" href="foundation-core.subtype-identity-principle.html#1828" class="Bound">is-subtype-P</a> <a id="1841" href="foundation-core.subtype-identity-principle.html#1841" class="Bound">a</a> <a id="1843" href="foundation-core.subtype-identity-principle.html#1843" class="Bound">b</a> <a id="1845" href="foundation-core.subtype-identity-principle.html#1845" class="Bound">p</a> <a id="1847" class="Symbol">=</a>
      <a id="1855" href="foundation-core.contractible-types.html#3297" class="Function">is-contr-equiv</a>
        <a id="1878" class="Symbol">(</a> <a id="1880" href="foundation-core.dependent-pair-types.html#502" class="Record">Σ</a> <a id="1882" class="Symbol">(</a><a id="1883" href="foundation-core.dependent-pair-types.html#502" class="Record">Σ</a> <a id="1885" href="foundation-core.subtype-identity-principle.html#1521" class="Bound">A</a> <a id="1887" href="foundation-core.subtype-identity-principle.html#1533" class="Bound">B</a><a id="1888" class="Symbol">)</a> <a id="1890" class="Symbol">(λ</a> <a id="1893" href="foundation-core.subtype-identity-principle.html#1893" class="Bound">t</a> <a id="1895" class="Symbol">→</a> <a id="1897" href="foundation-core.subtype-identity-principle.html#1807" class="Bound">P</a> <a id="1899" class="Symbol">(</a><a id="1900" href="foundation-core.dependent-pair-types.html#592" class="Field">pr1</a> <a id="1904" href="foundation-core.subtype-identity-principle.html#1893" class="Bound">t</a><a id="1905" class="Symbol">)))</a>
        <a id="1917" class="Symbol">(</a> <a id="1919" href="foundation-core.type-arithmetic-dependent-pair-types.html#11499" class="Function">equiv-right-swap-Σ</a><a id="1937" class="Symbol">)</a>
        <a id="1947" class="Symbol">(</a> <a id="1949" href="foundation-core.contractible-types.html#3297" class="Function">is-contr-equiv</a>
          <a id="1974" class="Symbol">(</a> <a id="1976" href="foundation-core.subtype-identity-principle.html#1807" class="Bound">P</a> <a id="1978" href="foundation-core.subtype-identity-principle.html#1841" class="Bound">a</a><a id="1979" class="Symbol">)</a>
          <a id="1991" class="Symbol">(</a> <a id="1993" href="foundation-core.type-arithmetic-dependent-pair-types.html#3077" class="Function">left-unit-law-Σ-is-contr</a>
            <a id="2030" class="Symbol">(</a> <a id="2032" href="foundation-core.subtype-identity-principle.html#1816" class="Bound">is-contr-AB</a><a id="2043" class="Symbol">)</a>
            <a id="2057" class="Symbol">(</a> <a id="2059" href="foundation-core.dependent-pair-types.html#575" class="InductiveConstructor">pair</a> <a id="2064" href="foundation-core.subtype-identity-principle.html#1841" class="Bound">a</a> <a id="2066" href="foundation-core.subtype-identity-principle.html#1843" class="Bound">b</a><a id="2067" class="Symbol">))</a>
          <a id="2080" class="Symbol">(</a> <a id="2082" href="foundation-core.propositions.html#3036" class="Function">is-proof-irrelevant-is-prop</a> <a id="2110" class="Symbol">(</a><a id="2111" href="foundation-core.subtype-identity-principle.html#1828" class="Bound">is-subtype-P</a> <a id="2124" href="foundation-core.subtype-identity-principle.html#1841" class="Bound">a</a><a id="2125" class="Symbol">)</a> <a id="2127" href="foundation-core.subtype-identity-principle.html#1845" class="Bound">p</a><a id="2128" class="Symbol">))</a>
</pre>
## Theorem

### The subtype identity principle

<pre class="Agda"><a id="2192" class="Keyword">module</a> <a id="2199" href="foundation-core.subtype-identity-principle.html#2199" class="Module">_</a>
  <a id="2203" class="Symbol">{</a><a id="2204" href="foundation-core.subtype-identity-principle.html#2204" class="Bound">l1</a> <a id="2207" href="foundation-core.subtype-identity-principle.html#2207" class="Bound">l2</a> <a id="2210" href="foundation-core.subtype-identity-principle.html#2210" class="Bound">l3</a> <a id="2213" class="Symbol">:</a> <a id="2215" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="2220" class="Symbol">}</a> <a id="2222" class="Symbol">{</a><a id="2223" href="foundation-core.subtype-identity-principle.html#2223" class="Bound">A</a> <a id="2225" class="Symbol">:</a> <a id="2227" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="2230" href="foundation-core.subtype-identity-principle.html#2204" class="Bound">l1</a><a id="2232" class="Symbol">}</a> <a id="2234" class="Symbol">{</a><a id="2235" href="foundation-core.subtype-identity-principle.html#2235" class="Bound">P</a> <a id="2237" class="Symbol">:</a> <a id="2239" href="foundation-core.subtype-identity-principle.html#2223" class="Bound">A</a> <a id="2241" class="Symbol">→</a> <a id="2243" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="2246" href="foundation-core.subtype-identity-principle.html#2207" class="Bound">l2</a><a id="2248" class="Symbol">}</a>
  <a id="2252" class="Symbol">(</a><a id="2253" href="foundation-core.subtype-identity-principle.html#2253" class="Bound">is-prop-P</a> <a id="2263" class="Symbol">:</a> <a id="2265" class="Symbol">(</a><a id="2266" href="foundation-core.subtype-identity-principle.html#2266" class="Bound">x</a> <a id="2268" class="Symbol">:</a> <a id="2270" href="foundation-core.subtype-identity-principle.html#2223" class="Bound">A</a><a id="2271" class="Symbol">)</a> <a id="2273" class="Symbol">→</a> <a id="2275" href="foundation-core.propositions.html#1295" class="Function">is-prop</a> <a id="2283" class="Symbol">(</a><a id="2284" href="foundation-core.subtype-identity-principle.html#2235" class="Bound">P</a> <a id="2286" href="foundation-core.subtype-identity-principle.html#2266" class="Bound">x</a><a id="2287" class="Symbol">))</a> <a id="2290" class="Symbol">{</a><a id="2291" href="foundation-core.subtype-identity-principle.html#2291" class="Bound">Eq-A</a> <a id="2296" class="Symbol">:</a> <a id="2298" href="foundation-core.subtype-identity-principle.html#2223" class="Bound">A</a> <a id="2300" class="Symbol">→</a> <a id="2302" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="2305" href="foundation-core.subtype-identity-principle.html#2210" class="Bound">l3</a><a id="2307" class="Symbol">}</a>
  <a id="2311" class="Symbol">{</a><a id="2312" href="foundation-core.subtype-identity-principle.html#2312" class="Bound">a</a> <a id="2314" class="Symbol">:</a> <a id="2316" href="foundation-core.subtype-identity-principle.html#2223" class="Bound">A</a><a id="2317" class="Symbol">}</a> <a id="2319" class="Symbol">(</a><a id="2320" href="foundation-core.subtype-identity-principle.html#2320" class="Bound">p</a> <a id="2322" class="Symbol">:</a> <a id="2324" href="foundation-core.subtype-identity-principle.html#2235" class="Bound">P</a> <a id="2326" href="foundation-core.subtype-identity-principle.html#2312" class="Bound">a</a><a id="2327" class="Symbol">)</a> <a id="2329" class="Symbol">(</a><a id="2330" href="foundation-core.subtype-identity-principle.html#2330" class="Bound">refl-A</a> <a id="2337" class="Symbol">:</a> <a id="2339" href="foundation-core.subtype-identity-principle.html#2291" class="Bound">Eq-A</a> <a id="2344" href="foundation-core.subtype-identity-principle.html#2312" class="Bound">a</a><a id="2345" class="Symbol">)</a>
  <a id="2349" class="Keyword">where</a>

  <a id="2358" class="Keyword">abstract</a>
    <a id="2371" href="foundation-core.subtype-identity-principle.html#2371" class="Function">subtype-identity-principle</a> <a id="2398" class="Symbol">:</a>
      <a id="2406" class="Symbol">{</a><a id="2407" href="foundation-core.subtype-identity-principle.html#2407" class="Bound">f</a> <a id="2409" class="Symbol">:</a> <a id="2411" class="Symbol">(</a><a id="2412" href="foundation-core.subtype-identity-principle.html#2412" class="Bound">x</a> <a id="2414" class="Symbol">:</a> <a id="2416" href="foundation-core.subtype-identity-principle.html#2223" class="Bound">A</a><a id="2417" class="Symbol">)</a> <a id="2419" class="Symbol">→</a> <a id="2421" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="2424" href="foundation-core.subtype-identity-principle.html#2312" class="Bound">a</a> <a id="2426" href="foundation-core.subtype-identity-principle.html#2412" class="Bound">x</a> <a id="2428" class="Symbol">→</a> <a id="2430" href="foundation-core.subtype-identity-principle.html#2291" class="Bound">Eq-A</a> <a id="2435" href="foundation-core.subtype-identity-principle.html#2412" class="Bound">x</a><a id="2436" class="Symbol">}</a>
      <a id="2444" class="Symbol">(</a><a id="2445" href="foundation-core.subtype-identity-principle.html#2445" class="Bound">h</a> <a id="2447" class="Symbol">:</a> <a id="2449" class="Symbol">(</a><a id="2450" href="foundation-core.subtype-identity-principle.html#2450" class="Bound">z</a> <a id="2452" class="Symbol">:</a> <a id="2454" class="Symbol">(</a><a id="2455" href="foundation-core.dependent-pair-types.html#502" class="Record">Σ</a> <a id="2457" href="foundation-core.subtype-identity-principle.html#2223" class="Bound">A</a> <a id="2459" href="foundation-core.subtype-identity-principle.html#2235" class="Bound">P</a><a id="2460" class="Symbol">))</a> <a id="2463" class="Symbol">→</a> <a id="2465" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="2468" class="Symbol">(</a><a id="2469" href="foundation-core.dependent-pair-types.html#575" class="InductiveConstructor">pair</a> <a id="2474" href="foundation-core.subtype-identity-principle.html#2312" class="Bound">a</a> <a id="2476" href="foundation-core.subtype-identity-principle.html#2320" class="Bound">p</a><a id="2477" class="Symbol">)</a> <a id="2479" href="foundation-core.subtype-identity-principle.html#2450" class="Bound">z</a> <a id="2481" class="Symbol">→</a> <a id="2483" href="foundation-core.subtype-identity-principle.html#2291" class="Bound">Eq-A</a> <a id="2488" class="Symbol">(</a><a id="2489" href="foundation-core.dependent-pair-types.html#592" class="Field">pr1</a> <a id="2493" href="foundation-core.subtype-identity-principle.html#2450" class="Bound">z</a><a id="2494" class="Symbol">))</a> <a id="2497" class="Symbol">→</a>
      <a id="2505" class="Symbol">((</a><a id="2507" href="foundation-core.subtype-identity-principle.html#2507" class="Bound">x</a> <a id="2509" class="Symbol">:</a> <a id="2511" href="foundation-core.subtype-identity-principle.html#2223" class="Bound">A</a><a id="2512" class="Symbol">)</a> <a id="2514" class="Symbol">→</a> <a id="2516" href="foundation-core.equivalences.html#1542" class="Function">is-equiv</a> <a id="2525" class="Symbol">(</a><a id="2526" href="foundation-core.subtype-identity-principle.html#2407" class="Bound">f</a> <a id="2528" href="foundation-core.subtype-identity-principle.html#2507" class="Bound">x</a><a id="2529" class="Symbol">))</a> <a id="2532" class="Symbol">→</a> <a id="2534" class="Symbol">(</a><a id="2535" href="foundation-core.subtype-identity-principle.html#2535" class="Bound">z</a> <a id="2537" class="Symbol">:</a> <a id="2539" href="foundation-core.dependent-pair-types.html#502" class="Record">Σ</a> <a id="2541" href="foundation-core.subtype-identity-principle.html#2223" class="Bound">A</a> <a id="2543" href="foundation-core.subtype-identity-principle.html#2235" class="Bound">P</a><a id="2544" class="Symbol">)</a> <a id="2546" class="Symbol">→</a> <a id="2548" href="foundation-core.equivalences.html#1542" class="Function">is-equiv</a> <a id="2557" class="Symbol">(</a><a id="2558" href="foundation-core.subtype-identity-principle.html#2445" class="Bound">h</a> <a id="2560" href="foundation-core.subtype-identity-principle.html#2535" class="Bound">z</a><a id="2561" class="Symbol">)</a>
    <a id="2567" href="foundation-core.subtype-identity-principle.html#2371" class="Function">subtype-identity-principle</a> <a id="2594" class="Symbol">{</a><a id="2595" href="foundation-core.subtype-identity-principle.html#2595" class="Bound">f</a><a id="2596" class="Symbol">}</a> <a id="2598" href="foundation-core.subtype-identity-principle.html#2598" class="Bound">h</a> <a id="2600" href="foundation-core.subtype-identity-principle.html#2600" class="Bound">H</a> <a id="2602" class="Symbol">=</a>
      <a id="2610" href="foundation-core.fundamental-theorem-of-identity-types.html#1888" class="Function">fundamental-theorem-id</a>
        <a id="2641" class="Symbol">(</a> <a id="2643" href="foundation-core.dependent-pair-types.html#575" class="InductiveConstructor">pair</a> <a id="2648" href="foundation-core.subtype-identity-principle.html#2312" class="Bound">a</a> <a id="2650" href="foundation-core.subtype-identity-principle.html#2320" class="Bound">p</a><a id="2651" class="Symbol">)</a>
        <a id="2661" class="Symbol">(</a> <a id="2663" href="foundation-core.subtype-identity-principle.html#2330" class="Bound">refl-A</a><a id="2669" class="Symbol">)</a>
        <a id="2679" class="Symbol">(</a> <a id="2681" href="foundation-core.subtype-identity-principle.html#1572" class="Function">is-contr-total-Eq-subtype</a>
          <a id="2717" class="Symbol">(</a> <a id="2719" href="foundation-core.fundamental-theorem-of-identity-types.html#2160" class="Function">fundamental-theorem-id&#39;</a> <a id="2743" href="foundation-core.subtype-identity-principle.html#2312" class="Bound">a</a> <a id="2745" href="foundation-core.subtype-identity-principle.html#2330" class="Bound">refl-A</a> <a id="2752" href="foundation-core.subtype-identity-principle.html#2595" class="Bound">f</a> <a id="2754" href="foundation-core.subtype-identity-principle.html#2600" class="Bound">H</a><a id="2755" class="Symbol">)</a>
          <a id="2767" class="Symbol">(</a> <a id="2769" href="foundation-core.subtype-identity-principle.html#2253" class="Bound">is-prop-P</a><a id="2778" class="Symbol">)</a>
          <a id="2790" class="Symbol">(</a> <a id="2792" href="foundation-core.subtype-identity-principle.html#2312" class="Bound">a</a><a id="2793" class="Symbol">)</a>
          <a id="2805" class="Symbol">(</a> <a id="2807" href="foundation-core.subtype-identity-principle.html#2330" class="Bound">refl-A</a><a id="2813" class="Symbol">)</a>
          <a id="2825" class="Symbol">(</a> <a id="2827" href="foundation-core.subtype-identity-principle.html#2320" class="Bound">p</a><a id="2828" class="Symbol">))</a>
        <a id="2839" class="Symbol">(</a> <a id="2841" href="foundation-core.subtype-identity-principle.html#2598" class="Bound">h</a><a id="2842" class="Symbol">)</a>

<a id="2845" class="Keyword">module</a> <a id="2852" href="foundation-core.subtype-identity-principle.html#2852" class="Module">_</a>
  <a id="2856" class="Symbol">{</a><a id="2857" href="foundation-core.subtype-identity-principle.html#2857" class="Bound">l1</a> <a id="2860" href="foundation-core.subtype-identity-principle.html#2860" class="Bound">l2</a> <a id="2863" href="foundation-core.subtype-identity-principle.html#2863" class="Bound">l3</a> <a id="2866" class="Symbol">:</a> <a id="2868" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="2873" class="Symbol">}</a> <a id="2875" class="Symbol">{</a><a id="2876" href="foundation-core.subtype-identity-principle.html#2876" class="Bound">A</a> <a id="2878" class="Symbol">:</a> <a id="2880" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="2883" href="foundation-core.subtype-identity-principle.html#2857" class="Bound">l1</a><a id="2885" class="Symbol">}</a> <a id="2887" class="Symbol">(</a><a id="2888" href="foundation-core.subtype-identity-principle.html#2888" class="Bound">P</a> <a id="2890" class="Symbol">:</a> <a id="2892" href="foundation-core.subtype-identity-principle.html#2876" class="Bound">A</a> <a id="2894" class="Symbol">→</a> <a id="2896" href="foundation-core.propositions.html#1380" class="Function">UU-Prop</a> <a id="2904" href="foundation-core.subtype-identity-principle.html#2860" class="Bound">l2</a><a id="2906" class="Symbol">)</a> <a id="2908" class="Symbol">{</a><a id="2909" href="foundation-core.subtype-identity-principle.html#2909" class="Bound">Eq-A</a> <a id="2914" class="Symbol">:</a> <a id="2916" href="foundation-core.subtype-identity-principle.html#2876" class="Bound">A</a> <a id="2918" class="Symbol">→</a> <a id="2920" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="2923" href="foundation-core.subtype-identity-principle.html#2863" class="Bound">l3</a><a id="2925" class="Symbol">}</a>
  <a id="2929" class="Symbol">{</a><a id="2930" href="foundation-core.subtype-identity-principle.html#2930" class="Bound">a</a> <a id="2932" class="Symbol">:</a> <a id="2934" href="foundation-core.subtype-identity-principle.html#2876" class="Bound">A</a><a id="2935" class="Symbol">}</a> <a id="2937" class="Symbol">(</a><a id="2938" href="foundation-core.subtype-identity-principle.html#2938" class="Bound">p</a> <a id="2940" class="Symbol">:</a> <a id="2942" href="foundation-core.propositions.html#1482" class="Function">type-Prop</a> <a id="2952" class="Symbol">(</a><a id="2953" href="foundation-core.subtype-identity-principle.html#2888" class="Bound">P</a> <a id="2955" href="foundation-core.subtype-identity-principle.html#2930" class="Bound">a</a><a id="2956" class="Symbol">))</a> <a id="2959" class="Symbol">(</a><a id="2960" href="foundation-core.subtype-identity-principle.html#2960" class="Bound">refl-A</a> <a id="2967" class="Symbol">:</a> <a id="2969" href="foundation-core.subtype-identity-principle.html#2909" class="Bound">Eq-A</a> <a id="2974" href="foundation-core.subtype-identity-principle.html#2930" class="Bound">a</a><a id="2975" class="Symbol">)</a>
  <a id="2979" class="Keyword">where</a>

  <a id="2988" href="foundation-core.subtype-identity-principle.html#2988" class="Function">map-extensionality-subtype</a> <a id="3015" class="Symbol">:</a>
    <a id="3021" class="Symbol">(</a><a id="3022" href="foundation-core.subtype-identity-principle.html#3022" class="Bound">f</a> <a id="3024" class="Symbol">:</a> <a id="3026" class="Symbol">(</a><a id="3027" href="foundation-core.subtype-identity-principle.html#3027" class="Bound">x</a> <a id="3029" class="Symbol">:</a> <a id="3031" href="foundation-core.subtype-identity-principle.html#2876" class="Bound">A</a><a id="3032" class="Symbol">)</a> <a id="3034" class="Symbol">→</a> <a id="3036" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="3039" href="foundation-core.subtype-identity-principle.html#2930" class="Bound">a</a> <a id="3041" href="foundation-core.subtype-identity-principle.html#3027" class="Bound">x</a> <a id="3043" href="foundation-core.equivalences.html#1607" class="Function Operator">≃</a> <a id="3045" href="foundation-core.subtype-identity-principle.html#2909" class="Bound">Eq-A</a> <a id="3050" href="foundation-core.subtype-identity-principle.html#3027" class="Bound">x</a><a id="3051" class="Symbol">)</a> <a id="3053" class="Symbol">→</a>
    <a id="3059" class="Symbol">(</a><a id="3060" href="foundation-core.subtype-identity-principle.html#3060" class="Bound">z</a> <a id="3062" class="Symbol">:</a> <a id="3064" href="foundation-core.dependent-pair-types.html#502" class="Record">Σ</a> <a id="3066" href="foundation-core.subtype-identity-principle.html#2876" class="Bound">A</a> <a id="3068" class="Symbol">(</a><a id="3069" href="foundation-core.propositions.html#1482" class="Function">type-Prop</a> <a id="3079" href="foundation-core.functions.html#407" class="Function Operator">∘</a> <a id="3081" href="foundation-core.subtype-identity-principle.html#2888" class="Bound">P</a><a id="3082" class="Symbol">))</a> <a id="3085" class="Symbol">→</a> <a id="3087" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="3090" class="Symbol">(</a><a id="3091" href="foundation-core.dependent-pair-types.html#575" class="InductiveConstructor">pair</a> <a id="3096" href="foundation-core.subtype-identity-principle.html#2930" class="Bound">a</a> <a id="3098" href="foundation-core.subtype-identity-principle.html#2938" class="Bound">p</a><a id="3099" class="Symbol">)</a> <a id="3101" href="foundation-core.subtype-identity-principle.html#3060" class="Bound">z</a> <a id="3103" class="Symbol">→</a> <a id="3105" href="foundation-core.subtype-identity-principle.html#2909" class="Bound">Eq-A</a> <a id="3110" class="Symbol">(</a><a id="3111" href="foundation-core.dependent-pair-types.html#592" class="Field">pr1</a> <a id="3115" href="foundation-core.subtype-identity-principle.html#3060" class="Bound">z</a><a id="3116" class="Symbol">)</a>
  <a id="3120" href="foundation-core.subtype-identity-principle.html#2988" class="Function">map-extensionality-subtype</a> <a id="3147" href="foundation-core.subtype-identity-principle.html#3147" class="Bound">f</a> <a id="3149" class="DottedPattern Symbol">.(</a><a id="3151" href="foundation-core.dependent-pair-types.html#575" class="DottedPattern InductiveConstructor">pair</a> <a id="3156" href="foundation-core.subtype-identity-principle.html#2930" class="DottedPattern Bound">a</a> <a id="3158" href="foundation-core.subtype-identity-principle.html#2938" class="DottedPattern Bound">p</a><a id="3159" class="DottedPattern Symbol">)</a> <a id="3161" href="foundation-core.identity-types.html#1807" class="InductiveConstructor">refl</a> <a id="3166" class="Symbol">=</a> <a id="3168" href="foundation-core.subtype-identity-principle.html#2960" class="Bound">refl-A</a>

  <a id="3178" href="foundation-core.subtype-identity-principle.html#3178" class="Function">extensionality-subtype</a> <a id="3201" class="Symbol">:</a>
    <a id="3207" class="Symbol">(</a><a id="3208" href="foundation-core.subtype-identity-principle.html#3208" class="Bound">f</a> <a id="3210" class="Symbol">:</a> <a id="3212" class="Symbol">(</a><a id="3213" href="foundation-core.subtype-identity-principle.html#3213" class="Bound">x</a> <a id="3215" class="Symbol">:</a> <a id="3217" href="foundation-core.subtype-identity-principle.html#2876" class="Bound">A</a><a id="3218" class="Symbol">)</a> <a id="3220" class="Symbol">→</a> <a id="3222" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="3225" href="foundation-core.subtype-identity-principle.html#2930" class="Bound">a</a> <a id="3227" href="foundation-core.subtype-identity-principle.html#3213" class="Bound">x</a> <a id="3229" href="foundation-core.equivalences.html#1607" class="Function Operator">≃</a> <a id="3231" href="foundation-core.subtype-identity-principle.html#2909" class="Bound">Eq-A</a> <a id="3236" href="foundation-core.subtype-identity-principle.html#3213" class="Bound">x</a><a id="3237" class="Symbol">)</a> <a id="3239" class="Symbol">→</a>
    <a id="3245" class="Symbol">(</a><a id="3246" href="foundation-core.subtype-identity-principle.html#3246" class="Bound">z</a> <a id="3248" class="Symbol">:</a> <a id="3250" href="foundation-core.dependent-pair-types.html#502" class="Record">Σ</a> <a id="3252" href="foundation-core.subtype-identity-principle.html#2876" class="Bound">A</a> <a id="3254" class="Symbol">(</a><a id="3255" href="foundation-core.propositions.html#1482" class="Function">type-Prop</a> <a id="3265" href="foundation-core.functions.html#407" class="Function Operator">∘</a> <a id="3267" href="foundation-core.subtype-identity-principle.html#2888" class="Bound">P</a><a id="3268" class="Symbol">))</a> <a id="3271" class="Symbol">→</a> <a id="3273" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="3276" class="Symbol">(</a><a id="3277" href="foundation-core.dependent-pair-types.html#575" class="InductiveConstructor">pair</a> <a id="3282" href="foundation-core.subtype-identity-principle.html#2930" class="Bound">a</a> <a id="3284" href="foundation-core.subtype-identity-principle.html#2938" class="Bound">p</a><a id="3285" class="Symbol">)</a> <a id="3287" href="foundation-core.subtype-identity-principle.html#3246" class="Bound">z</a> <a id="3289" href="foundation-core.equivalences.html#1607" class="Function Operator">≃</a> <a id="3291" href="foundation-core.subtype-identity-principle.html#2909" class="Bound">Eq-A</a> <a id="3296" class="Symbol">(</a><a id="3297" href="foundation-core.dependent-pair-types.html#592" class="Field">pr1</a> <a id="3301" href="foundation-core.subtype-identity-principle.html#3246" class="Bound">z</a><a id="3302" class="Symbol">)</a>
  <a id="3306" href="foundation-core.dependent-pair-types.html#592" class="Field">pr1</a> <a id="3310" class="Symbol">(</a><a id="3311" href="foundation-core.subtype-identity-principle.html#3178" class="Function">extensionality-subtype</a> <a id="3334" href="foundation-core.subtype-identity-principle.html#3334" class="Bound">f</a> <a id="3336" href="foundation-core.subtype-identity-principle.html#3336" class="Bound">z</a><a id="3337" class="Symbol">)</a> <a id="3339" class="Symbol">=</a> <a id="3341" href="foundation-core.subtype-identity-principle.html#2988" class="Function">map-extensionality-subtype</a> <a id="3368" href="foundation-core.subtype-identity-principle.html#3334" class="Bound">f</a> <a id="3370" href="foundation-core.subtype-identity-principle.html#3336" class="Bound">z</a>
  <a id="3374" href="foundation-core.dependent-pair-types.html#604" class="Field">pr2</a> <a id="3378" class="Symbol">(</a><a id="3379" href="foundation-core.subtype-identity-principle.html#3178" class="Function">extensionality-subtype</a> <a id="3402" href="foundation-core.subtype-identity-principle.html#3402" class="Bound">f</a> <a id="3404" href="foundation-core.subtype-identity-principle.html#3404" class="Bound">z</a><a id="3405" class="Symbol">)</a> <a id="3407" class="Symbol">=</a>
    <a id="3413" href="foundation-core.subtype-identity-principle.html#2371" class="Function">subtype-identity-principle</a>
      <a id="3446" class="Symbol">(</a> <a id="3448" class="Symbol">λ</a> <a id="3450" href="foundation-core.subtype-identity-principle.html#3450" class="Bound">x</a> <a id="3452" class="Symbol">→</a> <a id="3454" href="foundation-core.propositions.html#1549" class="Function">is-prop-type-Prop</a> <a id="3472" class="Symbol">(</a><a id="3473" href="foundation-core.subtype-identity-principle.html#2888" class="Bound">P</a> <a id="3475" href="foundation-core.subtype-identity-principle.html#3450" class="Bound">x</a><a id="3476" class="Symbol">))</a>
      <a id="3485" class="Symbol">(</a> <a id="3487" href="foundation-core.subtype-identity-principle.html#2938" class="Bound">p</a><a id="3488" class="Symbol">)</a>
      <a id="3496" class="Symbol">(</a> <a id="3498" href="foundation-core.subtype-identity-principle.html#2960" class="Bound">refl-A</a><a id="3504" class="Symbol">)</a>
      <a id="3512" class="Symbol">(</a> <a id="3514" href="foundation-core.subtype-identity-principle.html#2988" class="Function">map-extensionality-subtype</a> <a id="3541" href="foundation-core.subtype-identity-principle.html#3402" class="Bound">f</a><a id="3542" class="Symbol">)</a>
      <a id="3550" class="Symbol">(</a> <a id="3552" class="Symbol">λ</a> <a id="3554" href="foundation-core.subtype-identity-principle.html#3554" class="Bound">x</a> <a id="3556" class="Symbol">→</a> <a id="3558" href="foundation-core.equivalences.html#1862" class="Function">is-equiv-map-equiv</a> <a id="3577" class="Symbol">(</a><a id="3578" href="foundation-core.subtype-identity-principle.html#3402" class="Bound">f</a> <a id="3580" href="foundation-core.subtype-identity-principle.html#3554" class="Bound">x</a><a id="3581" class="Symbol">))</a>
      <a id="3590" class="Symbol">(</a> <a id="3592" href="foundation-core.subtype-identity-principle.html#3404" class="Bound">z</a><a id="3593" class="Symbol">)</a>
</pre>