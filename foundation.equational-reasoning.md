# Equational reasoning

Tom de Jong, 27 May 2022.
Elisabeth Bonnevier, 31 May 2022.
<pre class="Agda"><a id="93" class="Symbol">{-#</a> <a id="97" class="Keyword">OPTIONS</a> <a id="105" class="Pragma">--without-K</a> <a id="117" class="Pragma">--exact-split</a> <a id="131" class="Symbol">#-}</a>

<a id="136" class="Keyword">module</a> <a id="143" href="foundation.equational-reasoning.html" class="Module">foundation.equational-reasoning</a> <a id="175" class="Keyword">where</a>

<a id="182" class="Keyword">open</a> <a id="187" class="Keyword">import</a> <a id="194" href="foundation.identity-types.html" class="Module">foundation.identity-types</a> <a id="220" class="Keyword">using</a> <a id="226" class="Symbol">(</a><a id="227" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="230" class="Symbol">;</a> <a id="232" href="foundation-core.identity-types.html#1807" class="InductiveConstructor">refl</a> <a id="237" class="Symbol">;</a> <a id="239" href="foundation-core.identity-types.html#2412" class="Function Operator">_∙_</a><a id="242" class="Symbol">;</a> <a id="244" href="foundation-core.identity-types.html#2716" class="Function">inv</a><a id="247" class="Symbol">)</a>
<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="foundation.equivalences.html" class="Module">foundation.equivalences</a> <a id="285" class="Keyword">using</a> <a id="291" class="Symbol">(</a><a id="292" href="foundation-core.equivalences.html#1607" class="Function Operator">_≃_</a> <a id="296" class="Symbol">;</a> <a id="298" href="foundation-core.equivalences.html#7855" class="Function Operator">_∘e_</a> <a id="303" class="Symbol">;</a> <a id="305" href="foundation-core.equivalences.html#2480" class="Function">id-equiv</a><a id="313" class="Symbol">;</a> <a id="315" href="foundation-core.equivalences.html#5707" class="Function">inv-equiv</a><a id="324" class="Symbol">)</a>
<a id="326" class="Keyword">open</a> <a id="331" class="Keyword">import</a> <a id="338" href="foundation.universe-levels.html" class="Module">foundation.universe-levels</a> <a id="365" class="Keyword">using</a> <a id="371" class="Symbol">(</a><a id="372" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="377" class="Symbol">;</a> <a id="379" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a><a id="381" class="Symbol">)</a>
<a id="383" class="Keyword">open</a> <a id="388" class="Keyword">import</a> <a id="395" href="order-theory.preorders.html" class="Module">order-theory.preorders</a> <a id="418" class="Keyword">using</a>
  <a id="426" class="Symbol">(</a><a id="427" href="order-theory.preorders.html#531" class="Function">Preorder</a> <a id="436" class="Symbol">;</a> <a id="438" href="order-theory.preorders.html#873" class="Function">element-Preorder</a> <a id="455" class="Symbol">;</a> <a id="457" href="order-theory.preorders.html#1023" class="Function">leq-Preorder</a>
  <a id="472" class="Symbol">;</a> <a id="474" href="order-theory.preorders.html#1385" class="Function">transitive-leq-Preorder</a> <a id="498" class="Symbol">;</a> <a id="500" href="order-theory.preorders.html#1280" class="Function">refl-leq-Preorder</a><a id="517" class="Symbol">)</a>
</pre>
## Idea

Often it's convenient to reason by chains of (in)equalities or equivalences,
i.e. to write a proof in the following form:

```md
X ≃⟨ equiv-1 ⟩
A ≃⟨ equiv-2 ⟩
B ≃⟨ equiv-3 ⟩
Y ∎
```

or
```md
x ≤⟨ ineq-1 ⟩
a ≤⟨ ineq-2 ⟩
b ≤⟨ ineq-3 ⟩
c ∎
```

where `equiv-x` and `ineq-x` are proofs of respectively the equivalences or
inequalities. The symbol ∎ marks the end of a chain.

Because we will want to have equational reasoning for both identifications and
equivalences and we can't use the same symbol twice, we use ∎ for
identifications and ■ for equivalences in the code below.

For inequalities we also need to pass the preorder as an argument.

We write Agda code that allows for such reasoning. The code for equational
reasoning for equalities and equivalences is based on Martín Escardó's Agda code
[1,2] and the Agda standard library [3].


## Definitions

### Equational reasoning for identifications

<pre class="Agda"><a id="1447" class="Keyword">infix</a> <a id="1453" class="Number">1</a> <a id="1455" href="foundation.equational-reasoning.html#1702" class="Function Operator">_∎</a>
<a id="1458" class="Keyword">infixr</a> <a id="1465" class="Number">0</a> <a id="1467" href="foundation.equational-reasoning.html#1483" class="Function">step-=</a> <a id="1474" href="foundation.equational-reasoning.html#1589" class="Function">step-=˘</a>

<a id="step-="></a><a id="1483" href="foundation.equational-reasoning.html#1483" class="Function">step-=</a> <a id="1490" class="Symbol">:</a> <a id="1492" class="Symbol">{</a><a id="1493" href="foundation.equational-reasoning.html#1493" class="Bound">l</a> <a id="1495" class="Symbol">:</a> <a id="1497" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="1502" class="Symbol">}</a> <a id="1504" class="Symbol">{</a><a id="1505" href="foundation.equational-reasoning.html#1505" class="Bound">X</a> <a id="1507" class="Symbol">:</a> <a id="1509" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="1512" href="foundation.equational-reasoning.html#1493" class="Bound">l</a><a id="1513" class="Symbol">}</a> <a id="1515" class="Symbol">(</a><a id="1516" href="foundation.equational-reasoning.html#1516" class="Bound">x</a> <a id="1518" class="Symbol">:</a> <a id="1520" href="foundation.equational-reasoning.html#1505" class="Bound">X</a><a id="1521" class="Symbol">)</a> <a id="1523" class="Symbol">{</a><a id="1524" href="foundation.equational-reasoning.html#1524" class="Bound">y</a> <a id="1526" href="foundation.equational-reasoning.html#1526" class="Bound">z</a> <a id="1528" class="Symbol">:</a> <a id="1530" href="foundation.equational-reasoning.html#1505" class="Bound">X</a><a id="1531" class="Symbol">}</a>
       <a id="1540" class="Symbol">→</a> <a id="1542" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="1545" href="foundation.equational-reasoning.html#1524" class="Bound">y</a> <a id="1547" href="foundation.equational-reasoning.html#1526" class="Bound">z</a> <a id="1549" class="Symbol">→</a> <a id="1551" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="1554" href="foundation.equational-reasoning.html#1516" class="Bound">x</a> <a id="1556" href="foundation.equational-reasoning.html#1524" class="Bound">y</a> <a id="1558" class="Symbol">→</a> <a id="1560" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="1563" href="foundation.equational-reasoning.html#1516" class="Bound">x</a> <a id="1565" href="foundation.equational-reasoning.html#1526" class="Bound">z</a>
<a id="1567" href="foundation.equational-reasoning.html#1483" class="Function">step-=</a> <a id="1574" class="Symbol">_</a> <a id="1576" href="foundation.equational-reasoning.html#1576" class="Bound">q</a> <a id="1578" href="foundation.equational-reasoning.html#1578" class="Bound">p</a> <a id="1580" class="Symbol">=</a> <a id="1582" href="foundation.equational-reasoning.html#1578" class="Bound">p</a> <a id="1584" href="foundation-core.identity-types.html#2412" class="Function Operator">∙</a> <a id="1586" href="foundation.equational-reasoning.html#1576" class="Bound">q</a>

<a id="step-=˘"></a><a id="1589" href="foundation.equational-reasoning.html#1589" class="Function">step-=˘</a> <a id="1597" class="Symbol">:</a> <a id="1599" class="Symbol">{</a><a id="1600" href="foundation.equational-reasoning.html#1600" class="Bound">l</a> <a id="1602" class="Symbol">:</a> <a id="1604" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="1609" class="Symbol">}</a> <a id="1611" class="Symbol">{</a><a id="1612" href="foundation.equational-reasoning.html#1612" class="Bound">X</a> <a id="1614" class="Symbol">:</a> <a id="1616" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="1619" href="foundation.equational-reasoning.html#1600" class="Bound">l</a><a id="1620" class="Symbol">}</a> <a id="1622" class="Symbol">(</a><a id="1623" href="foundation.equational-reasoning.html#1623" class="Bound">x</a> <a id="1625" class="Symbol">:</a> <a id="1627" href="foundation.equational-reasoning.html#1612" class="Bound">X</a><a id="1628" class="Symbol">)</a> <a id="1630" class="Symbol">{</a><a id="1631" href="foundation.equational-reasoning.html#1631" class="Bound">y</a> <a id="1633" href="foundation.equational-reasoning.html#1633" class="Bound">z</a> <a id="1635" class="Symbol">:</a> <a id="1637" href="foundation.equational-reasoning.html#1612" class="Bound">X</a><a id="1638" class="Symbol">}</a>
        <a id="1648" class="Symbol">→</a> <a id="1650" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="1653" href="foundation.equational-reasoning.html#1631" class="Bound">y</a> <a id="1655" href="foundation.equational-reasoning.html#1633" class="Bound">z</a> <a id="1657" class="Symbol">→</a> <a id="1659" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="1662" href="foundation.equational-reasoning.html#1631" class="Bound">y</a> <a id="1664" href="foundation.equational-reasoning.html#1623" class="Bound">x</a> <a id="1666" class="Symbol">→</a> <a id="1668" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="1671" href="foundation.equational-reasoning.html#1623" class="Bound">x</a> <a id="1673" href="foundation.equational-reasoning.html#1633" class="Bound">z</a>
<a id="1675" href="foundation.equational-reasoning.html#1589" class="Function">step-=˘</a> <a id="1683" class="Symbol">_</a> <a id="1685" href="foundation.equational-reasoning.html#1685" class="Bound">q</a> <a id="1687" href="foundation.equational-reasoning.html#1687" class="Bound">p</a> <a id="1689" class="Symbol">=</a> <a id="1691" href="foundation-core.identity-types.html#2716" class="Function">inv</a> <a id="1695" href="foundation.equational-reasoning.html#1687" class="Bound">p</a> <a id="1697" href="foundation-core.identity-types.html#2412" class="Function Operator">∙</a> <a id="1699" href="foundation.equational-reasoning.html#1685" class="Bound">q</a>

<a id="_∎"></a><a id="1702" href="foundation.equational-reasoning.html#1702" class="Function Operator">_∎</a> <a id="1705" class="Symbol">:</a> <a id="1707" class="Symbol">{</a><a id="1708" href="foundation.equational-reasoning.html#1708" class="Bound">l</a> <a id="1710" class="Symbol">:</a> <a id="1712" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="1717" class="Symbol">}</a> <a id="1719" class="Symbol">{</a><a id="1720" href="foundation.equational-reasoning.html#1720" class="Bound">X</a> <a id="1722" class="Symbol">:</a> <a id="1724" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="1727" href="foundation.equational-reasoning.html#1708" class="Bound">l</a><a id="1728" class="Symbol">}</a> <a id="1730" class="Symbol">(</a><a id="1731" href="foundation.equational-reasoning.html#1731" class="Bound">x</a> <a id="1733" class="Symbol">:</a> <a id="1735" href="foundation.equational-reasoning.html#1720" class="Bound">X</a><a id="1736" class="Symbol">)</a> <a id="1738" class="Symbol">→</a> <a id="1740" href="foundation-core.identity-types.html#1754" class="Datatype">Id</a> <a id="1743" href="foundation.equational-reasoning.html#1731" class="Bound">x</a> <a id="1745" href="foundation.equational-reasoning.html#1731" class="Bound">x</a>
<a id="1747" href="foundation.equational-reasoning.html#1747" class="Bound">x</a> <a id="1749" href="foundation.equational-reasoning.html#1702" class="Function Operator">∎</a> <a id="1751" class="Symbol">=</a> <a id="1753" href="foundation-core.identity-types.html#1807" class="InductiveConstructor">refl</a>

<a id="1759" class="Keyword">syntax</a> <a id="1766" href="foundation.equational-reasoning.html#1483" class="Function">step-=</a> <a id="1773" class="Bound">x</a> <a id="1775" class="Bound">q</a> <a id="1777" class="Bound">p</a> <a id="1779" class="Symbol">=</a> <a id="1781" class="Bound">x</a> <a id="1783" class="Function">=⟨</a> <a id="1786" class="Bound">p</a> <a id="1788" class="Function">⟩</a> <a id="1790" class="Bound">q</a>
<a id="1792" class="Keyword">syntax</a> <a id="1799" href="foundation.equational-reasoning.html#1589" class="Function">step-=˘</a> <a id="1807" class="Bound">x</a> <a id="1809" class="Bound">q</a> <a id="1811" class="Bound">p</a> <a id="1813" class="Symbol">=</a> <a id="1815" class="Bound">x</a> <a id="1817" class="Function">=˘⟨</a> <a id="1821" class="Bound">p</a> <a id="1823" class="Function">⟩</a> <a id="1825" class="Bound">q</a>
</pre>
### Equational reasoning for equivalences

<pre class="Agda"><a id="1883" class="Keyword">infix</a> <a id="1889" class="Number">1</a> <a id="1891" href="foundation.equational-reasoning.html#2170" class="Function Operator">_■</a>
<a id="1894" class="Keyword">infixr</a> <a id="1901" class="Number">0</a> <a id="1903" href="foundation.equational-reasoning.html#1919" class="Function">step-≃</a> <a id="1910" href="foundation.equational-reasoning.html#2038" class="Function">step-≃˘</a>

<a id="step-≃"></a><a id="1919" href="foundation.equational-reasoning.html#1919" class="Function">step-≃</a> <a id="1926" class="Symbol">:</a> <a id="1928" class="Symbol">{</a><a id="1929" href="foundation.equational-reasoning.html#1929" class="Bound">l1</a> <a id="1932" href="foundation.equational-reasoning.html#1932" class="Bound">l2</a> <a id="1935" href="foundation.equational-reasoning.html#1935" class="Bound">l3</a> <a id="1938" class="Symbol">:</a> <a id="1940" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="1945" class="Symbol">}</a> <a id="1947" class="Symbol">(</a><a id="1948" href="foundation.equational-reasoning.html#1948" class="Bound">X</a> <a id="1950" class="Symbol">:</a> <a id="1952" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="1955" href="foundation.equational-reasoning.html#1929" class="Bound">l1</a><a id="1957" class="Symbol">)</a> <a id="1959" class="Symbol">{</a><a id="1960" href="foundation.equational-reasoning.html#1960" class="Bound">Y</a> <a id="1962" class="Symbol">:</a> <a id="1964" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="1967" href="foundation.equational-reasoning.html#1932" class="Bound">l2</a> <a id="1970" class="Symbol">}</a> <a id="1972" class="Symbol">{</a><a id="1973" href="foundation.equational-reasoning.html#1973" class="Bound">Z</a> <a id="1975" class="Symbol">:</a> <a id="1977" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="1980" href="foundation.equational-reasoning.html#1935" class="Bound">l3</a><a id="1982" class="Symbol">}</a>
       <a id="1991" class="Symbol">→</a> <a id="1993" href="foundation.equational-reasoning.html#1960" class="Bound">Y</a> <a id="1995" href="foundation-core.equivalences.html#1607" class="Function Operator">≃</a> <a id="1997" href="foundation.equational-reasoning.html#1973" class="Bound">Z</a> <a id="1999" class="Symbol">→</a> <a id="2001" href="foundation.equational-reasoning.html#1948" class="Bound">X</a> <a id="2003" href="foundation-core.equivalences.html#1607" class="Function Operator">≃</a> <a id="2005" href="foundation.equational-reasoning.html#1960" class="Bound">Y</a> <a id="2007" class="Symbol">→</a> <a id="2009" href="foundation.equational-reasoning.html#1948" class="Bound">X</a> <a id="2011" href="foundation-core.equivalences.html#1607" class="Function Operator">≃</a> <a id="2013" href="foundation.equational-reasoning.html#1973" class="Bound">Z</a>
<a id="2015" href="foundation.equational-reasoning.html#1919" class="Function">step-≃</a> <a id="2022" class="Symbol">_</a> <a id="2024" href="foundation.equational-reasoning.html#2024" class="Bound">g</a> <a id="2026" href="foundation.equational-reasoning.html#2026" class="Bound">f</a> <a id="2028" class="Symbol">=</a> <a id="2030" href="foundation.equational-reasoning.html#2024" class="Bound">g</a> <a id="2032" href="foundation-core.equivalences.html#7855" class="Function Operator">∘e</a> <a id="2035" href="foundation.equational-reasoning.html#2026" class="Bound">f</a>

<a id="step-≃˘"></a><a id="2038" href="foundation.equational-reasoning.html#2038" class="Function">step-≃˘</a> <a id="2046" class="Symbol">:</a> <a id="2048" class="Symbol">{</a><a id="2049" href="foundation.equational-reasoning.html#2049" class="Bound">l1</a> <a id="2052" href="foundation.equational-reasoning.html#2052" class="Bound">l2</a> <a id="2055" href="foundation.equational-reasoning.html#2055" class="Bound">l3</a> <a id="2058" class="Symbol">:</a> <a id="2060" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="2065" class="Symbol">}</a> <a id="2067" class="Symbol">(</a><a id="2068" href="foundation.equational-reasoning.html#2068" class="Bound">X</a> <a id="2070" class="Symbol">:</a> <a id="2072" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="2075" href="foundation.equational-reasoning.html#2049" class="Bound">l1</a><a id="2077" class="Symbol">)</a> <a id="2079" class="Symbol">{</a><a id="2080" href="foundation.equational-reasoning.html#2080" class="Bound">Y</a> <a id="2082" class="Symbol">:</a> <a id="2084" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="2087" href="foundation.equational-reasoning.html#2052" class="Bound">l2</a> <a id="2090" class="Symbol">}</a> <a id="2092" class="Symbol">{</a><a id="2093" href="foundation.equational-reasoning.html#2093" class="Bound">Z</a> <a id="2095" class="Symbol">:</a> <a id="2097" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="2100" href="foundation.equational-reasoning.html#2055" class="Bound">l3</a><a id="2102" class="Symbol">}</a>
        <a id="2112" class="Symbol">→</a> <a id="2114" href="foundation.equational-reasoning.html#2080" class="Bound">Y</a> <a id="2116" href="foundation-core.equivalences.html#1607" class="Function Operator">≃</a> <a id="2118" href="foundation.equational-reasoning.html#2093" class="Bound">Z</a> <a id="2120" class="Symbol">→</a> <a id="2122" href="foundation.equational-reasoning.html#2080" class="Bound">Y</a> <a id="2124" href="foundation-core.equivalences.html#1607" class="Function Operator">≃</a> <a id="2126" href="foundation.equational-reasoning.html#2068" class="Bound">X</a> <a id="2128" class="Symbol">→</a> <a id="2130" href="foundation.equational-reasoning.html#2068" class="Bound">X</a> <a id="2132" href="foundation-core.equivalences.html#1607" class="Function Operator">≃</a> <a id="2134" href="foundation.equational-reasoning.html#2093" class="Bound">Z</a>
<a id="2136" href="foundation.equational-reasoning.html#2038" class="Function">step-≃˘</a> <a id="2144" class="Symbol">_</a> <a id="2146" href="foundation.equational-reasoning.html#2146" class="Bound">g</a> <a id="2148" href="foundation.equational-reasoning.html#2148" class="Bound">f</a> <a id="2150" class="Symbol">=</a> <a id="2152" href="foundation.equational-reasoning.html#2146" class="Bound">g</a> <a id="2154" href="foundation-core.equivalences.html#7855" class="Function Operator">∘e</a> <a id="2157" href="foundation-core.equivalences.html#5707" class="Function">inv-equiv</a> <a id="2167" href="foundation.equational-reasoning.html#2148" class="Bound">f</a>

<a id="_■"></a><a id="2170" href="foundation.equational-reasoning.html#2170" class="Function Operator">_■</a> <a id="2173" class="Symbol">:</a> <a id="2175" class="Symbol">{</a><a id="2176" href="foundation.equational-reasoning.html#2176" class="Bound">l</a> <a id="2178" class="Symbol">:</a> <a id="2180" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="2185" class="Symbol">}</a> <a id="2187" class="Symbol">(</a><a id="2188" href="foundation.equational-reasoning.html#2188" class="Bound">X</a> <a id="2190" class="Symbol">:</a> <a id="2192" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="2195" href="foundation.equational-reasoning.html#2176" class="Bound">l</a><a id="2196" class="Symbol">)</a> <a id="2198" class="Symbol">→</a> <a id="2200" href="foundation.equational-reasoning.html#2188" class="Bound">X</a> <a id="2202" href="foundation-core.equivalences.html#1607" class="Function Operator">≃</a> <a id="2204" href="foundation.equational-reasoning.html#2188" class="Bound">X</a>
<a id="2206" href="foundation.equational-reasoning.html#2206" class="Bound">X</a> <a id="2208" href="foundation.equational-reasoning.html#2170" class="Function Operator">■</a> <a id="2210" class="Symbol">=</a> <a id="2212" href="foundation-core.equivalences.html#2480" class="Function">id-equiv</a>

<a id="2222" class="Keyword">syntax</a> <a id="2229" href="foundation.equational-reasoning.html#1919" class="Function">step-≃</a> <a id="2236" class="Bound">X</a> <a id="2238" class="Bound">g</a> <a id="2240" class="Bound">f</a> <a id="2242" class="Symbol">=</a> <a id="2244" class="Bound">X</a> <a id="2246" class="Function">≃⟨</a> <a id="2249" class="Bound">f</a> <a id="2251" class="Function">⟩</a> <a id="2253" class="Bound">g</a>
<a id="2255" class="Keyword">syntax</a> <a id="2262" href="foundation.equational-reasoning.html#2038" class="Function">step-≃˘</a> <a id="2270" class="Bound">X</a> <a id="2272" class="Bound">g</a> <a id="2274" class="Bound">f</a> <a id="2276" class="Symbol">=</a> <a id="2278" class="Bound">X</a> <a id="2280" class="Function">≃˘⟨</a> <a id="2284" class="Bound">f</a> <a id="2286" class="Function">⟩</a> <a id="2288" class="Bound">g</a>
</pre>
### Equational reasoning for preorders

<pre class="Agda"><a id="2343" class="Keyword">private</a>
 <a id="transitivity"></a><a id="2352" href="foundation.equational-reasoning.html#2352" class="Function">transitivity</a> <a id="2365" class="Symbol">:</a> <a id="2367" class="Symbol">{</a><a id="2368" href="foundation.equational-reasoning.html#2368" class="Bound">l1</a> <a id="2371" href="foundation.equational-reasoning.html#2371" class="Bound">l2</a> <a id="2374" class="Symbol">:</a> <a id="2376" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="2381" class="Symbol">}</a> <a id="2383" class="Symbol">(</a><a id="2384" href="foundation.equational-reasoning.html#2384" class="Bound">X</a> <a id="2386" class="Symbol">:</a> <a id="2388" href="order-theory.preorders.html#531" class="Function">Preorder</a> <a id="2397" href="foundation.equational-reasoning.html#2368" class="Bound">l1</a> <a id="2400" href="foundation.equational-reasoning.html#2371" class="Bound">l2</a><a id="2402" class="Symbol">)</a>
                <a id="2420" class="Symbol">(</a><a id="2421" href="foundation.equational-reasoning.html#2421" class="Bound">x</a> <a id="2423" class="Symbol">:</a> <a id="2425" href="order-theory.preorders.html#873" class="Function">element-Preorder</a> <a id="2442" href="foundation.equational-reasoning.html#2384" class="Bound">X</a><a id="2443" class="Symbol">)</a> <a id="2445" class="Symbol">{</a><a id="2446" href="foundation.equational-reasoning.html#2446" class="Bound">y</a> <a id="2448" href="foundation.equational-reasoning.html#2448" class="Bound">z</a> <a id="2450" class="Symbol">:</a> <a id="2452" href="order-theory.preorders.html#873" class="Function">element-Preorder</a> <a id="2469" href="foundation.equational-reasoning.html#2384" class="Bound">X</a><a id="2470" class="Symbol">}</a>
              <a id="2486" class="Symbol">→</a> <a id="2488" href="order-theory.preorders.html#1023" class="Function">leq-Preorder</a> <a id="2501" href="foundation.equational-reasoning.html#2384" class="Bound">X</a> <a id="2503" href="foundation.equational-reasoning.html#2421" class="Bound">x</a> <a id="2505" href="foundation.equational-reasoning.html#2446" class="Bound">y</a> <a id="2507" class="Symbol">→</a> <a id="2509" href="order-theory.preorders.html#1023" class="Function">leq-Preorder</a> <a id="2522" href="foundation.equational-reasoning.html#2384" class="Bound">X</a> <a id="2524" href="foundation.equational-reasoning.html#2446" class="Bound">y</a> <a id="2526" href="foundation.equational-reasoning.html#2448" class="Bound">z</a> <a id="2528" class="Symbol">→</a> <a id="2530" href="order-theory.preorders.html#1023" class="Function">leq-Preorder</a> <a id="2543" href="foundation.equational-reasoning.html#2384" class="Bound">X</a> <a id="2545" href="foundation.equational-reasoning.html#2421" class="Bound">x</a> <a id="2547" href="foundation.equational-reasoning.html#2448" class="Bound">z</a>
 <a id="2550" href="foundation.equational-reasoning.html#2352" class="Function">transitivity</a> <a id="2563" href="foundation.equational-reasoning.html#2563" class="Bound">X</a> <a id="2565" href="foundation.equational-reasoning.html#2565" class="Bound">x</a> <a id="2567" class="Symbol">{</a><a id="2568" href="foundation.equational-reasoning.html#2568" class="Bound">y</a><a id="2569" class="Symbol">}</a> <a id="2571" class="Symbol">{</a><a id="2572" href="foundation.equational-reasoning.html#2572" class="Bound">z</a><a id="2573" class="Symbol">}</a> <a id="2575" href="foundation.equational-reasoning.html#2575" class="Bound">u</a> <a id="2577" href="foundation.equational-reasoning.html#2577" class="Bound">v</a> <a id="2579" class="Symbol">=</a> <a id="2581" href="order-theory.preorders.html#1385" class="Function">transitive-leq-Preorder</a> <a id="2605" href="foundation.equational-reasoning.html#2563" class="Bound">X</a> <a id="2607" href="foundation.equational-reasoning.html#2565" class="Bound">x</a> <a id="2609" href="foundation.equational-reasoning.html#2568" class="Bound">y</a> <a id="2611" href="foundation.equational-reasoning.html#2572" class="Bound">z</a> <a id="2613" href="foundation.equational-reasoning.html#2577" class="Bound">v</a> <a id="2615" href="foundation.equational-reasoning.html#2575" class="Bound">u</a>

<a id="2618" class="Keyword">syntax</a> <a id="2625" href="foundation.equational-reasoning.html#2352" class="Function">transitivity</a> <a id="2638" class="Bound">X</a> <a id="2640" class="Bound">x</a> <a id="2642" class="Bound">u</a> <a id="2644" class="Bound">v</a> <a id="2646" class="Symbol">=</a> <a id="2648" class="Bound">x</a> <a id="2650" class="Function">≤⟨</a> <a id="2653" class="Bound">X</a> <a id="2655" class="Function">⟩[</a> <a id="2658" class="Bound">u</a> <a id="2660" class="Function">]</a> <a id="2662" class="Bound">v</a>
<a id="2664" class="Keyword">infixr</a> <a id="2671" class="Number">0</a> <a id="2673" href="foundation.equational-reasoning.html#2352" class="Function">transitivity</a>

<a id="2687" class="Keyword">private</a>
 <a id="reflexivity"></a><a id="2696" href="foundation.equational-reasoning.html#2696" class="Function">reflexivity</a> <a id="2708" class="Symbol">:</a> <a id="2710" class="Symbol">{</a><a id="2711" href="foundation.equational-reasoning.html#2711" class="Bound">l1</a> <a id="2714" href="foundation.equational-reasoning.html#2714" class="Bound">l2</a> <a id="2717" class="Symbol">:</a> <a id="2719" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="2724" class="Symbol">}</a> <a id="2726" class="Symbol">(</a><a id="2727" href="foundation.equational-reasoning.html#2727" class="Bound">X</a> <a id="2729" class="Symbol">:</a> <a id="2731" href="order-theory.preorders.html#531" class="Function">Preorder</a> <a id="2740" href="foundation.equational-reasoning.html#2711" class="Bound">l1</a> <a id="2743" href="foundation.equational-reasoning.html#2714" class="Bound">l2</a><a id="2745" class="Symbol">)</a>
             <a id="2760" class="Symbol">→</a> <a id="2762" class="Symbol">(</a><a id="2763" href="foundation.equational-reasoning.html#2763" class="Bound">x</a> <a id="2765" class="Symbol">:</a> <a id="2767" href="order-theory.preorders.html#873" class="Function">element-Preorder</a> <a id="2784" href="foundation.equational-reasoning.html#2727" class="Bound">X</a><a id="2785" class="Symbol">)</a> <a id="2787" class="Symbol">→</a> <a id="2789" href="order-theory.preorders.html#1023" class="Function">leq-Preorder</a> <a id="2802" href="foundation.equational-reasoning.html#2727" class="Bound">X</a> <a id="2804" href="foundation.equational-reasoning.html#2763" class="Bound">x</a> <a id="2806" href="foundation.equational-reasoning.html#2763" class="Bound">x</a>
 <a id="2809" href="foundation.equational-reasoning.html#2696" class="Function">reflexivity</a> <a id="2821" class="Symbol">=</a> <a id="2823" href="order-theory.preorders.html#1280" class="Function">refl-leq-Preorder</a>

<a id="2842" class="Keyword">syntax</a> <a id="2849" href="foundation.equational-reasoning.html#2696" class="Function">reflexivity</a> <a id="2861" class="Bound">X</a> <a id="2863" class="Bound">x</a> <a id="2865" class="Symbol">=</a> <a id="2867" class="Bound">x</a> <a id="2869" class="Function">∎⟨</a> <a id="2872" class="Bound">X</a> <a id="2874" class="Function">⟩</a>
<a id="2876" class="Keyword">infix</a> <a id="2882" class="Number">1</a> <a id="2884" href="foundation.equational-reasoning.html#2696" class="Function">reflexivity</a>
</pre>
For a preorder `X` we thus write the chains as follows

```md
x ≤⟨ X ⟩[ ineq-1 ]
y ≤⟨ X ⟩[ ineq-2 ]
z ∎⟨ X ⟩
```

## References

1. Martín Escardó. https://github.com/martinescardo/TypeTopology/blob/master/source/Id.lagda
2. Martín Escardó. https://github.com/martinescardo/TypeTopology/blob/master/source/UF-Equiv.lagda
3. The Agda standard library. https://github.com/agda/agda-stdlib/blob/master/src/Relation/Binary/PropositionalEquality/Core.agda
